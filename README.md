# vatriume.kz

## Пользователям
Служба для анонимных постов вАтриуме и остальных проектов группы.

## Желающим принести пользу
Думаю тут есть над чем поработать. Без новомодных фреймворков и остального улучшить внешний вид думаю возможно. Если есть желание вложиться, советую оговорить изменения с админами и прислать PR мне :) Если не умеешь в гит, не беда - присылай новую версию, накачу в гит сам + укажу автора.

## Security audit
Инетересно провести аудит. Целью будет добыть admin credentials. Пока я вижу 2 вектора атаки:

1.  Сбрутить пароль. Не иди в эту сторону, это скучно.
2.  Code injection. У вас есть лишь пара мест, где сервер принимает пользовательские данные, и я вроде все заэскейпил.

Если найдешь брешь, не стоит ее юзать, просто зарепорть. Единственное, что можно с этой бреши получить - психологическую травму от того, что присылают в предложку. Нормальные посты все равно попадут ведь в паблик.

# Новый фронт-энд (thanks to @uenify!)
Новый фронт-энд был переписан на React.js так что для запуска:
* [Сделай форк](https://help.github.com/articles/fork-a-repo/) если надо
* [Склонируй](https://help.github.com/articles/cloning-a-repository/) репозиторий
* [Установи](https://yarnpkg.com/en/docs/cli/install) зависимости
* Запусти webpack (`yarn start` или `npm start`)
* А для билда `yarn build` или `npm run build`

# Белая тема (thanks to @ironsoul0!)
Для поддержки белой темы, стоит учитывать следующие вещи:
* При написании новых React компонентов, вы можете задавать стили для белой темы через написание стилей для `.white .yourClassName`. При этом, стили для `.yourClassName` будут применяться для темной темы. Следовательно, в JSX от вас лишь потребуется задавать prop `className={yourClassName}`.
* Ассеты (изображения) находятся и должны добавляться в папку `src/assets`. В React коде, вы можете импортировать их следующим образом: `import assetName from "./assets/fileName"`.


# Следующему разработчику
Не спеши ругаться на мой выбор технологий, всему есть причина. Изначальная версия сайта была backendless и была написана Ануаром Сериковым. В качестве бэкэнда там был Firebase, который внезапно стал недоступен в Казахстане. Тогда я и решил перенести сайт по следующим причинам:

1.  PHP + MySQL будет жить еще долго. Да здравствуют WordPress, Joomla, Bitrix etc.
2.  Эта связка есть почти на любом хостинге. Переезд всегда будет прост.
3.  Проект небольшой в размерах, так что его можно хоть на баше писать.
4.  Придумайте еще аргумент, чтобы не звать меня говнокодером :)

Для полноценной работы сайта необходим api/secret.php, который по понятным причинам заигнорен гитом. Пример этого файла:

```php
<?php
    /**
     * VA admin credentials in the format of 'username' => 'password'
     */
    $admin_credentials = [
        'test_user' => 'test'
    ];


    /**
     * Database credentials.
     */
    $db_server = 'localhost';
    $db_port = 8889;
    $db_username = 'vatriume';
    $db_password = '$uper$tr0ngPWDDDD';
    $db_name = 'vatriume';
?>
```